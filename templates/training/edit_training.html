{% extends 'base.html' %}
{% load static %}

{% block content %}
<section class="section-content padding-y bg">
  {% include 'includes/alerts.html' %}
  <div class="container">
    <div class="row">

      <!-- Sidebar -->
      <aside class="col-md-3">
        <a href="{% url 'list_training' %}" class="btn btn-outline-primary btn-block">View Trainings</a>
        <a class="btn btn-light btn-block" href="javascript:history.back()">
          <i class="fa fa-arrow-left"></i> <span class="text">Back</span>
        </a>
      </aside>

      <!-- Main Content -->
      <main class="col-md-9">
        <article class="card">
          <header class="card-header">
            <strong class="d-inline-block mr-3">Edit Training</strong>
          </header>

          <div class="card-body">
            <form action="{% url 'edit_training' training.id %}" method="POST" enctype="multipart/form-data">
              {% csrf_token %}

              <!-- Title -->
              <div class="form-group">
                <label>Title</label>
                <input type="text" name="title" class="form-control" value="{{ training.title }}" required>
              </div>

              <!-- Description -->
              <div class="form-group">
                <label>Description</label>
                <textarea name="description" class="form-control" rows="4" required>{{ training.description }}</textarea>
              </div>

              <!-- Expiry Date -->
              <div class="form-group">
                <label>Expiry Date</label>
                <input type="date" name="expiry_date" class="form-control" value="{{ training.expiry_date|date:'Y-m-d' }}">
                <small class="text-muted">Optional: Training will auto-expire after this date.</small>
              </div>

              <!-- Image (Optional) -->
              <div class="form-group">
                <label>Image (Optional)</label>
                <input type="file" name="image" class="form-control-file">
                {% if training.image %}
                  <small class="text-muted d-block mt-1">Current image: {{ training.image.name }}</small>
                {% endif %}
              </div>

              <input type="submit" value="Update Training" class="btn btn-primary mt-2">
            </form>
          </div>
        </article>
      </main>

    </div> <!-- row -->
  </div>
</section>
{% endblock %}
